<ul class="list-group">
	
		<% @posts.each do |post| %>

				<li class="list-group-item" style="<%= 'color: lightGray' if user_signed_in? && post.user_id == @user.id %>"><h3><%= post.title %></h3>
				
				<p>Author:
				<% if user_signed_in? && current_user.id == post.user_id %>
					<%= link_to User.find(post.user_id).name, user_path(current_user.id) %>
				<% else %>
					<%= link_to User.find(post.user_id).name, post_author_path(post.user_id) %>
				<% end %>
				</p>

				<%  post.substitute_content.map{|word| %>
                          <% if Keyword.recurring_keyword?(word) %>
                              <%= link_to word, browse_keyword_path(word), style:"font-weight:bold;" %>
                          <% elsif post.extract_keywords.include?(word) %>
                          	  <b><%= word %></b>
                          <% else %>
                              <%= word %>
                         <% end %>
                          <% } %>
				<br/>

				<% if user_signed_in? && post.user_id != @user.id %>
					<% if @viewed_posts.include?(post) %>
						<%= button_to "Archived", user_post_path(@user.id, post.id), method: :get %>
					<% else %>
						<%= button_to "View", create_view_path(post.id) %>
					<% end %>
				<% end %>

				<b>View count: <%= post.post_viewers.count %></b><br/>
				<b>Likes: <%= post.get_likes.size %></b><br/>
				<b>Likes: <%= post.get_dislikes.size %></b>
				</li><br/>
		
		<% end %>
</ul>